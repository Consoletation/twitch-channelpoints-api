{"version":3,"file":"content-script.js","sources":["../src/helpers.js","../src/classes/Command.js","../src/event-handler.js","../node_modules/handlebars/dist/cjs/handlebars/utils.js","../node_modules/handlebars/dist/cjs/handlebars/exception.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","../node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","../node_modules/handlebars/dist/cjs/handlebars/helpers.js","../node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","../node_modules/handlebars/dist/cjs/handlebars/decorators.js","../node_modules/handlebars/dist/cjs/handlebars/logger.js","../node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js","../node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js","../node_modules/handlebars/dist/cjs/handlebars/base.js","../node_modules/handlebars/dist/cjs/handlebars/safe-string.js","../node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js","../node_modules/handlebars/dist/cjs/handlebars/runtime.js","../node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","../node_modules/handlebars/dist/cjs/handlebars.runtime.js","../src/views/errors.hbs","../src/views/app.hbs","../src/views/app-button.hbs","../src/views/redemption.hbs","../src/views/settings-form.hbs","../src/views/create-form.hbs","../src/views/command-form.hbs","../src/views/command-form-value.hbs","../src/dom-manipulator.js","../src/dom-listener.js","../src/main.js"],"sourcesContent":["const prefix = '[BetterPoints]'\r\n\r\nexport function log() {\r\n    const args = Array.prototype.slice.call(arguments)\r\n    args.unshift('%c' + prefix, 'background: #222; color: #bada55')\r\n    console.log.apply(console, args)\r\n}\r\n","export const COMMAND_PRESETS = {\r\n    SetCurrentScene: {\r\n        functionName: 'SetCurrentScene',\r\n        prettyName: 'Change to scene',\r\n        actions: [\r\n            {\r\n                name: 'Scene Name',\r\n                property: 'scene-name',\r\n                propertySafe: 'sceneName',\r\n                type: 'text',\r\n            },\r\n        ],\r\n    },\r\n    Wait: {\r\n        functionName: 'Wait',\r\n        prettyName: 'Pause (ms)',\r\n        actions: [\r\n            {\r\n                name: 'Time (ms)',\r\n                property: 'timeInMs',\r\n                propertySafe: 'timeInMs',\r\n                type: 'number',\r\n            },\r\n        ],\r\n    },\r\n    SetSourceVisibility: {\r\n        functionName: 'SetSourceVisibility',\r\n        prettyName: 'Set Source Visibility',\r\n        actions: [\r\n            {\r\n                name: 'Source Name',\r\n                property: 'item',\r\n                type: 'text',\r\n            },\r\n            {\r\n                name: 'Visibility',\r\n                property: 'visibility',\r\n                type: 'checkbox',\r\n                value: 'true'\r\n            },\r\n        ],\r\n    },\r\n}\r\n\r\nexport class Command {\r\n    constructor(attributes) {\r\n        this.functionName = attributes.functionName\r\n        const preset = COMMAND_PRESETS[this.functionName]\r\n        this.config = {}\r\n        this.prettyName = preset.prettyName\r\n        attributes.config.forEach(configElement => {\r\n            this.config[configElement.name] = configElement.value\r\n        });\r\n    }\r\n}\r\n","import { displayRedemptions, displaySettings, displayError } from './dom-manipulator'\n\n// Application\nconst cooldowns = []\nlet settings = {}\nlet redemptionEvents = {}\nconst storage = window.localStorage\nconst REDEMPTIONS_KEY = 'redemptionEvents'\nconst SETTINGS_KEY = 'redemptionSettings'\nconst STORAGE_KEY = 'settings'\n\nconst DEFAULT_SETTINGS = {\n    address: 'localhost:4444',\n    password: ''\n}\nconst demoEvent = {\n    redemptionName: 'Event: Take On Me',\n    startScene: 'Game Capture', // if start scene is specified then the alert only plays when OBS is on that scene\n    cooldownInSeconds: 600,\n    hold: false, // do we return to the start scene?\n    commands: [\n        {\n            functionName: 'SetCurrentScene',\n            prettyName: 'Change to scene',\n            config: {\n                'scene-name': 'Game Capture (takeonme)',\n            },\n        },\n        {\n            functionName: 'Wait',\n            prettyName: 'Pause',\n            config: { timeInMs: 1300 },\n        },\n    ],\n}\n\nconst commands = {\n    SetCurrentScene: config => {\n        return settings.obs.client.send('SetCurrentScene', config)\n    },\n    Wait: config => {\n        return delay(config.timeInMs)\n    },\n    SetSourceVisibility: config => {\n        return settings.obs.client.send('SetSceneItemProperties', {visible: config.visibility})\n    }\n}\n\nexport async function connect() {\n    log('Channel Points Event Handler Loaded.')\n\n    settings.obs = await loadSettings()\n    redemptionEvents = await loadRedemptionEvents()\n    displayRedemptions(redemptionEvents)\n    return connectToOBS(settings.obs)\n}\n\nexport async function loadSettings() {\n    const storedSettings = JSON.parse(storage.getItem(SETTINGS_KEY)) ?? DEFAULT_SETTINGS\n    console.log(`Loaded settings: `, storedSettings)\n    displaySettings(storedSettings)\n    return Promise.resolve(storedSettings)\n}\n\nexport async function saveSettings(newSettings) {\n    disconnectFromOBS(settings.obs)\n    settings.obs = {...newSettings}\n    storage.setItem(SETTINGS_KEY, JSON.stringify(settings.obs))\n    try {\n        await connectToOBS(settings.obs)\n        log('Connected to OBS!')\n    } catch (obsError) {\n        const error = new Error(\n            `There was a problem connecting to OBS: ${obsError.code} ${obsError.description}`\n        )\n        displayError(error)\n    }\n}\n\nexport async function saveRedemptionEvent(redemption, override) {\n    // not overriding existing settings so check if it exists\n    if(!override){\n        if(redemptionEvents[redemption.redemptionName]){\n            return Promise.reject(new Error('Entry already exists, are you sure you want to replace it?'))\n        }\n    }\n\n    redemptionEvents[redemption.redemptionName] = redemption\n    storage.setItem(REDEMPTIONS_KEY, JSON.stringify(redemptionEvents))\n    displayRedemptions(redemptionEvents)\n    return Promise.resolve(true)\n}\n\nexport async function loadRedemptionEvents() {\n    const storedItems = JSON.parse(storage.getItem(REDEMPTIONS_KEY)) ?? {}\n    storedItems[demoEvent.redemptionName] = demoEvent\n    console.log(`Loaded redemptions: `, storedItems)\n    return Promise.resolve(storedItems)\n}\n\nexport async function getRedemption(redemptionName) {\n    return Promise.resolve(redemptionEvents[redemptionName])\n}\n\nasync function connectToOBS(obs) {\n    log('OBS integration enabled. Attempting connection...')\n    obs.client = new OBSWebSocket()\n    return obs.client.connect(settings.obs)\n}\n\nasync function disconnectFromOBS(obs){\n    obs.client.disconnect()\n}\n\n// used handle the redemption event, accepts jquery object\nexport async function executeRedemption(redemptionData) {\n    try {\n        // check if its on cooldown\n        if (cooldowns.indexOf(redemptionData.rewardName) >= 0) {\n            rejectRedemption(redemptionData)\n            throw new Error(\n                `Reward, ${redemptionData.rewardName} is on cooldown, rejecting`\n            )\n        } else {\n            // immediately add to cooldown\n            addToCooldown(redemptionData)\n        }\n\n        try {\n            // execute the reward function\n            await executeCommandChain(redemptionData)\n            acceptRedemption(redemptionData)\n        } catch (e) {\n            log('rejecting: ' + e.message)\n            // need to remove it from the cooldowns because it didn't actually run\n            removeFromCooldown(redemptionData)\n            rejectRedemption(redemptionData)\n        }\n    } catch (e) {\n        // unexpected reward failure!\n        console.error(e.message)\n        // need to remove it from the cooldowns because it didn't actually run\n        removeFromCooldown(redemptionData)\n        rejectRedemption(redemptionData)\n    }\n}\n\nfunction rejectRedemption(redemptionData) {\n    log(`rejecting: ${redemptionData.rewardName}`)\n    // click the reject button\n}\n\nfunction acceptRedemption(redemptionData) {\n    log(`accepting: ${redemptionData.rewardName}`)\n    // click the accept button\n}\n\nasync function executeCommandChain(redemptionData) {\n    const redemption = redemptionEvents[redemptionData.rewardName]\n    const initialScene = await settings.obs.client.send('GetCurrentScene')\n    // check if the redemption exists\n    if (!redemption) {\n        throw new Error(\n            `Received unhandled reward: ${redemptionData.rewardName}, ignoring`\n        )\n    }\n\n    // does the user require a specific scene to be active to start\n    if (redemption.startScene && initialScene.name !== redemption.startScene) {\n        throw new Error(\n            `Not on correct start scene, requires '${redemption.startScene}' but have '${initialScene.name}'`\n        )\n    }\n\n    // execute all of the commands in series\n    for (\n        let index = 0, len = redemption.commands.length;\n        index < len;\n        index++\n    ) {\n        const command = redemption.commands[index]\n        await commands[command.functionName](command.config)\n    }\n\n\n\n    // do we return to the initial scene?\n    if (!redemption.hold) {\n        await settings.obs.client.send('SetCurrentScene', {\n            'scene-name': initialScene.name,\n        })\n    }\n\n    console.log('finished execution chain')\n\n    return true\n}\n\nfunction addToCooldown(redemptionData) {\n    const reward = redemptionEvents[redemptionData.rewardName]\n    const name = redemptionData.rewardName\n    const cooldown = reward.cooldownInSeconds\n    cooldowns.push(name)\n    setTimeout(() => {\n        removeFromCooldown(redemptionData)\n    }, cooldown * 1000)\n    log('Added ', name + ' to cooldowns')\n}\n\nfunction removeFromCooldown(redemptionData) {\n    const name = redemptionData.rewardName\n    const index = cooldowns.indexOf(name)\n    if (index >= 0) {\n        cooldowns.splice(index, 1)\n        log('Removed ', name + ' from cooldowns')\n    }\n}\n\nfunction log() {\n    const prefix = '[ctPoints]'\n    const args = Array.prototype.slice.call(arguments)\n    args.unshift('%c' + prefix, 'background: #222; color: #bada55')\n    console.log.apply(console, args)\n}\n\nfunction delay(t, v) {\n    return new Promise(function(resolve) {\n        setTimeout(resolve.bind(null, v), t)\n    })\n}\n\nPromise.prototype.delay = function(t) {\n    return this.then(function(v) {\n        return delay(t, v)\n    })\n}\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQzNCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRXpCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQjtBQUM1QyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQU9PLFVBQVUsR0FQakIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQ0UsT0FBTyxLQUFLLEtBQUssVUFBVSxJQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUM1QztHQUNILENBQUM7Q0FDSDtRQUNRLFVBQVUsR0FBVixVQUFVOzs7OztBQUlaLElBQU0sT0FBTyxHQUNsQixLQUFLLENBQUMsT0FBTyxJQUNiLFVBQVMsS0FBSyxFQUFFO0FBQ2QsU0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxHQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUN6QyxLQUFLLENBQUM7Q0FDWCxDQUFDOzs7OztBQUdHLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUVNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMxQixXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gIHBvc3NpYmxlID0gL1smPD5cIidgPV0vO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuICByZXR1cm4gZXNjYXBlW2Nocl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQob2JqIC8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbiAgICApO1xuICB9O1xufVxuZXhwb3J0IHsgaXNGdW5jdGlvbiB9O1xuLyogZXNsaW50LWVuYWJsZSBmdW5jLXN0eWxlICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNBcnJheSA9XG4gIEFycmF5LmlzQXJyYXkgfHxcbiAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgPyB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuLy8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJhbWUob2JqZWN0KSB7XG4gIGxldCBmcmFtZSA9IGV4dGVuZCh7fSwgb2JqZWN0KTtcbiAgZnJhbWUuX3BhcmVudCA9IG9iamVjdDtcbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tQYXJhbXMocGFyYW1zLCBpZHMpIHtcbiAgcGFyYW1zLnBhdGggPSBpZHM7XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcbiAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFNLFVBQVUsR0FBRyxDQUNqQixhQUFhLEVBQ2IsVUFBVSxFQUNWLFlBQVksRUFDWixlQUFlLEVBQ2YsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsT0FBTyxDQUNSLENBQUM7O0FBRUYsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDeEIsSUFBSSxZQUFBO01BQ0osYUFBYSxZQUFBO01BQ2IsTUFBTSxZQUFBO01BQ04sU0FBUyxZQUFBLENBQUM7O0FBRVosTUFBSSxHQUFHLEVBQUU7QUFDUCxRQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDdEIsaUJBQWEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUM3QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDMUIsYUFBUyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUUzQixXQUFPLElBQUksS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDO0dBQ3hDOztBQUVELE1BQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7OztBQUcxRCxPQUFLLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRTtBQUNoRCxRQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQzlDOzs7QUFHRCxNQUFJLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtBQUMzQixTQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQzFDOztBQUVELE1BQUk7QUFDRixRQUFJLEdBQUcsRUFBRTtBQUNQLFVBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFVBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDOzs7O0FBSW5DLFVBQUksTUFBTSxDQUFDLGNBQWMsRUFBRTtBQUN6QixjQUFNLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDcEMsZUFBSyxFQUFFLE1BQU07QUFDYixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO0FBQ0gsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3ZDLGVBQUssRUFBRSxTQUFTO0FBQ2hCLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsWUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7T0FDNUI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBd0QsVUFBVTs7cUJBRW5ELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQzNCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVsQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQ2IsQ0FBQztBQUNGLGVBQU8sR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztPQUMxQjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcGVuZENvbnRleHRQYXRoLCBjcmVhdGVGcmFtZSwgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2Jsb2NrSGVscGVyTWlzc2luZycsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBsZXQgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLm5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (global.Symbol && context[global.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[global.Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osWUFBTSwyQkFBYyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTztRQUN6QixDQUFDLEdBQUcsQ0FBQztRQUNMLEdBQUcsR0FBRyxFQUFFO1FBQ1IsSUFBSSxZQUFBO1FBQ0osV0FBVyxZQUFBLENBQUM7O0FBRWQsUUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsaUJBQVcsR0FDVCx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNyRTs7QUFFRCxRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQ3ZCLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCOztBQUVELFFBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixVQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDOztBQUVELGFBQVMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3pDLFVBQUksSUFBSSxFQUFFO0FBQ1IsWUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFDakIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLFlBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQzs7QUFFbkIsWUFBSSxXQUFXLEVBQUU7QUFDZixjQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDeEM7T0FDRjs7QUFFRCxTQUFHLEdBQ0QsR0FBRyxHQUNILEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUNYLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUN2QixDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQzVCO09BQ0YsQ0FBQyxDQUFDO0tBQ047O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzRCxZQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUNuRCxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLlN5bWJvbCAmJiBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICBuZXdDb250ZXh0LnB1c2goaXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFDSixtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUNqRSxDQUFDO0tBQ0g7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdNaXNzaW5nIGhlbHBlcjogXCInICsgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXS5uYW1lICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztLQUMxRDtBQUNELFFBQUksa0JBQVcsV0FBVyxDQUFDLEVBQUU7QUFDM0IsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3RDOzs7OztBQUtELFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFDekIsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQzlEO0FBQ0QsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3BELFFBQUUsRUFBRSxPQUFPLENBQUMsT0FBTztBQUNuQixhQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUU7QUFDbkIsVUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0tBQ25CLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjaWYgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7XG4gICAgICBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvciBpcyB0byByZW5kZXIgdGhlIHBvc2l0aXZlIHBhdGggaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBhbmQgbm90IGVtcHR5LlxuICAgIC8vIFRoZSBgaW5jbHVkZVplcm9gIG9wdGlvbiBtYXkgYmUgc2V0IHRvIHRyZWF0IHRoZSBjb25kdGlvbmFsIGFzIHB1cmVseSBub3QgZW1wdHkgYmFzZWQgb24gdGhlXG4gICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cbiAgICBpZiAoKCFvcHRpb25zLmhhc2guaW5jbHVkZVplcm8gJiYgIWNvbmRpdGlvbmFsKSB8fCBpc0VtcHR5KGNvbmRpdGlvbmFsKSkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgfVxuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjdW5sZXNzIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtcbiAgICAgIGZuOiBvcHRpb25zLmludmVyc2UsXG4gICAgICBpbnZlcnNlOiBvcHRpb25zLmZuLFxuICAgICAgaGFzaDogb3B0aW9ucy5oYXNoXG4gICAgfSk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM1QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVEsSUFBSSxDQUFDLENBQUM7R0FDdkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5RCxRQUFJLENBQUMsR0FBRyxFQUFFOztBQUVSLGFBQU8sR0FBRyxDQUFDO0tBQ1o7QUFDRCxXQUFPLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Imxvb2t1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMscUNBQXFDLENBQUMsQ0FBQztLQUM1RDtBQUNELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFDdkIsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNmLENBQUM7T0FDSDs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXBwZW5kQ29udGV4dFBhdGgsXG4gIGJsb2NrUGFyYW1zLFxuICBjcmVhdGVGcmFtZSxcbiAgaXNFbXB0eSxcbiAgaXNGdW5jdGlvblxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd3aXRoJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN3aXRoIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoIWlzRW1wdHkoY29udGV4dCkpIHtcbiAgICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLmlkc1swXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXVCLFVBQVU7O3FCQUVsQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJEZWNvcmF0b3IoJ2lubGluZScsIGZ1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcbiAgICAgICAgbGV0IHJldCA9IGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcmlnaW5hbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      // eslint-disable-next-line no-console\n      if (!console[method]) {\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUF3QixTQUFTOztBQUVqQyxJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUNFLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFDOUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxFQUN6QztBQUNBLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDcEIsY0FBTSxHQUFHLEtBQUssQ0FBQztPQUNoQjs7d0NBWG1CLE9BQU87QUFBUCxlQUFPOzs7QUFZM0IsYUFBTyxDQUFDLE1BQU0sT0FBQyxDQUFmLE9BQU8sRUFBWSxPQUFPLENBQUMsQ0FBQztLQUM3QjtHQUNGO0NBQ0YsQ0FBQzs7cUJBRWEsTUFBTSIsImZpbGUiOiJsb2dnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmRleE9mIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWxcbiAgICApIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.createNewLookupObject = createNewLookupObject;\n\nvar _utils = require('../utils');\n\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFBdUIsVUFBVTs7Ozs7Ozs7O0FBUTFCLFNBQVMscUJBQXFCLEdBQWE7b0NBQVQsT0FBTztBQUFQLFdBQU87OztBQUM5QyxTQUFPLGdDQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQUssT0FBTyxFQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoiY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCBcIm51bGxcIi1wcm90b3R5cGUgdG8gYXZvaWQgdHJ1dGh5IHJlc3VsdHMgb24gcHJvdG90eXBlIHByb3BlcnRpZXMuXG4gKiBUaGUgcmVzdWx0aW5nIG9iamVjdCBjYW4gYmUgdXNlZCB3aXRoIFwib2JqZWN0W3Byb3BlcnR5XVwiIHRvIGNoZWNrIGlmIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gc291cmNlcyBhIHZhcmFyZ3MgcGFyYW1ldGVyIG9mIHNvdXJjZSBvYmplY3RzIHRoYXQgd2lsbCBiZSBtZXJnZWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdMb29rdXBPYmplY3QoLi4uc291cmNlcykge1xuICByZXR1cm4gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIC4uLnNvdXJjZXMpO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.createProtoAccessControl = createProtoAccessControl;\nexports.resultIsAllowed = resultIsAllowed;\nexports.resetLoggedProperties = resetLoggedProperties;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _createNewLookupObject = require('./create-new-lookup-object');\n\nvar _logger = require('../logger');\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n\n  var defaultPropertyWhiteList = Object.create(null);\n  // eslint-disable-next-line no-proto\n  defaultPropertyWhiteList['__proto__'] = false;\n\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3FDQUFzQyw0QkFBNEI7O3NCQUMxQyxXQUFXOztJQUF2QixNQUFNOztBQUVsQixJQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXRDLFNBQVMsd0JBQXdCLENBQUMsY0FBYyxFQUFFO0FBQ3ZELE1BQUksc0JBQXNCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqRCx3QkFBc0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDOUMsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRW5ELE1BQUksd0JBQXdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFbkQsMEJBQXdCLENBQUMsV0FBVyxDQUFDLEdBQUcsS0FBSyxDQUFDOztBQUU5QyxTQUFPO0FBQ0wsY0FBVSxFQUFFO0FBQ1YsZUFBUyxFQUFFLDZDQUNULHdCQUF3QixFQUN4QixjQUFjLENBQUMsc0JBQXNCLENBQ3RDO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsNkJBQTZCO0tBQzNEO0FBQ0QsV0FBTyxFQUFFO0FBQ1AsZUFBUyxFQUFFLDZDQUNULHNCQUFzQixFQUN0QixjQUFjLENBQUMsbUJBQW1CLENBQ25DO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsMEJBQTBCO0tBQ3hEO0dBQ0YsQ0FBQztDQUNIOztBQUVNLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxZQUFZLEVBQUU7QUFDeEUsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7QUFDaEMsV0FBTyxjQUFjLENBQUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0dBQ2pFLE1BQU07QUFDTCxXQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7R0FDcEU7Q0FDRjs7QUFFRCxTQUFTLGNBQWMsQ0FBQyx5QkFBeUIsRUFBRSxZQUFZLEVBQUU7QUFDL0QsTUFBSSx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO0FBQ25FLFdBQU8seUJBQXlCLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksQ0FBQztHQUNuRTtBQUNELE1BQUkseUJBQXlCLENBQUMsWUFBWSxLQUFLLFNBQVMsRUFBRTtBQUN4RCxXQUFPLHlCQUF5QixDQUFDLFlBQVksQ0FBQztHQUMvQztBQUNELGdDQUE4QixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzdDLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRUQsU0FBUyw4QkFBOEIsQ0FBQyxZQUFZLEVBQUU7QUFDcEQsTUFBSSxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxJQUFJLEVBQUU7QUFDM0Msb0JBQWdCLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3RDLFVBQU0sQ0FBQyxHQUFHLENBQ1IsT0FBTyxFQUNQLGlFQUErRCxZQUFZLG9JQUNILG9IQUMyQyxDQUNwSCxDQUFDO0dBQ0g7Q0FDRjs7QUFFTSxTQUFTLHFCQUFxQixHQUFHO0FBQ3RDLFFBQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxZQUFZLEVBQUk7QUFDcEQsV0FBTyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztHQUN2QyxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJwcm90by1hY2Nlc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVOZXdMb29rdXBPYmplY3QgfSBmcm9tICcuL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdCc7XG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcblxuY29uc3QgbG9nZ2VkUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wocnVudGltZU9wdGlvbnMpIHtcbiAgbGV0IGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0Wydjb25zdHJ1Y3RvciddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lR2V0dGVyX18nXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2RlZmluZVNldHRlcl9fJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19sb29rdXBHZXR0ZXJfXyddID0gZmFsc2U7XG5cbiAgbGV0IGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuICBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3RbJ19fcHJvdG9fXyddID0gZmFsc2U7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICB3aGl0ZWxpc3Q6IGNyZWF0ZU5ld0xvb2t1cE9iamVjdChcbiAgICAgICAgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0LFxuICAgICAgICBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9Qcm9wZXJ0aWVzXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvUHJvcGVydGllc0J5RGVmYXVsdFxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgd2hpdGVsaXN0OiBjcmVhdGVOZXdMb29rdXBPYmplY3QoXG4gICAgICAgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QsXG4gICAgICAgIHJ1bnRpbWVPcHRpb25zLmFsbG93ZWRQcm90b01ldGhvZHNcbiAgICAgICksXG4gICAgICBkZWZhdWx0VmFsdWU6IHJ1bnRpbWVPcHRpb25zLmFsbG93UHJvdG9NZXRob2RzQnlEZWZhdWx0XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgcHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLm1ldGhvZHMsIHByb3BlcnR5TmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbC5wcm9wZXJ0aWVzLCBwcm9wZXJ0eU5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUsIHByb3BlcnR5TmFtZSkge1xuICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUud2hpdGVsaXN0W3Byb3BlcnR5TmFtZV0gPT09IHRydWU7XG4gIH1cbiAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS5kZWZhdWx0VmFsdWU7XG4gIH1cbiAgbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSkge1xuICBpZiAobG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdICE9PSB0cnVlKSB7XG4gICAgbG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gdHJ1ZTtcbiAgICBsb2dnZXIubG9nKFxuICAgICAgJ2Vycm9yJyxcbiAgICAgIGBIYW5kbGViYXJzOiBBY2Nlc3MgaGFzIGJlZW4gZGVuaWVkIHRvIHJlc29sdmUgdGhlIHByb3BlcnR5IFwiJHtwcm9wZXJ0eU5hbWV9XCIgYmVjYXVzZSBpdCBpcyBub3QgYW4gXCJvd24gcHJvcGVydHlcIiBvZiBpdHMgcGFyZW50LlxcbmAgK1xuICAgICAgICBgWW91IGNhbiBhZGQgYSBydW50aW1lIG9wdGlvbiB0byBkaXNhYmxlIHRoZSBjaGVjayBvciB0aGlzIHdhcm5pbmc6XFxuYCArXG4gICAgICAgIGBTZWUgaHR0cHM6Ly9oYW5kbGViYXJzanMuY29tL2FwaS1yZWZlcmVuY2UvcnVudGltZS1vcHRpb25zLmh0bWwjb3B0aW9ucy10by1jb250cm9sLXByb3RvdHlwZS1hY2Nlc3MgZm9yIGRldGFpbHNgXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCkge1xuICBPYmplY3Qua2V5cyhsb2dnZWRQcm9wZXJ0aWVzKS5mb3JFYWNoKHByb3BlcnR5TmFtZSA9PiB7XG4gICAgZGVsZXRlIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nvar VERSION = '4.7.3';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQThDLFNBQVM7O3lCQUNqQyxhQUFhOzs7O3VCQUNJLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNyQyxVQUFVOzs7O21DQUNTLHlCQUF5Qjs7QUFFeEQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUN4QixJQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7QUFDNUIsSUFBTSxpQ0FBaUMsR0FBRyxDQUFDLENBQUM7OztBQUU1QyxJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxpQkFBaUI7QUFDcEIsR0FBQyxFQUFFLFVBQVU7Q0FDZCxDQUFDOzs7QUFFRixJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFOUIsU0FBUyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtBQUNuRSxNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDN0IsTUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQy9CLE1BQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQzs7QUFFbkMsa0NBQXVCLElBQUksQ0FBQyxDQUFDO0FBQzdCLHdDQUEwQixJQUFJLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxxQkFBcUIsQ0FBQyxTQUFTLEdBQUc7QUFDaEMsYUFBVyxFQUFFLHFCQUFxQjs7QUFFbEMsUUFBTSxxQkFBUTtBQUNkLEtBQUcsRUFBRSxvQkFBTyxHQUFHOztBQUVmLGdCQUFjLEVBQUUsd0JBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFDTixjQUFNLDJCQUFjLHlDQUF5QyxDQUFDLENBQUM7T0FDaEU7QUFDRCxvQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN6QjtHQUNGO0FBQ0Qsa0JBQWdCLEVBQUUsMEJBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxpQkFBZSxFQUFFLHlCQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLG9CQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0IsTUFBTTtBQUNMLFVBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ2xDLGNBQU0seUVBQ3dDLElBQUksb0JBQ2pELENBQUM7T0FDSDtBQUNELFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQy9CO0dBQ0Y7QUFDRCxtQkFBaUIsRUFBRSwyQkFBUyxJQUFJLEVBQUU7QUFDaEMsV0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQzVCOztBQUVELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDcEMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQ04sY0FBTSwyQkFBYyw0Q0FBNEMsQ0FBQyxDQUFDO09BQ25FO0FBQ0Qsb0JBQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQixNQUFNO0FBQ0wsVUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDNUI7R0FDRjtBQUNELHFCQUFtQixFQUFFLDZCQUFTLElBQUksRUFBRTtBQUNsQyxXQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDOUI7Ozs7O0FBS0QsNkJBQTJCLEVBQUEsdUNBQUc7QUFDNUIsZ0RBQXVCLENBQUM7R0FDekI7Q0FDRixDQUFDOztBQUVLLElBQUksR0FBRyxHQUFHLG9CQUFPLEdBQUcsQ0FBQzs7O1FBRW5CLFdBQVc7UUFBRSxNQUFNIiwiZmlsZSI6ImJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVGcmFtZSwgZXh0ZW5kLCB0b1N0cmluZyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyByZWdpc3RlckRlZmF1bHRIZWxwZXJzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMgfSBmcm9tICcuL2RlY29yYXRvcnMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyByZXNldExvZ2dlZFByb3BlcnRpZXMgfSBmcm9tICcuL2ludGVybmFsL3Byb3RvLWFjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuNy4zJztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5leHBvcnQgY29uc3QgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OID0gNztcblxuZXhwb3J0IGNvbnN0IFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG4gIDI6ICc9PSAxLjAuMC1yYy4zJyxcbiAgMzogJz09IDEuMC4wLXJjLjQnLFxuICA0OiAnPT0gMS54LngnLFxuICA1OiAnPT0gMi4wLjAtYWxwaGEueCcsXG4gIDY6ICc+PSAyLjAuMC1iZXRhLjEnLFxuICA3OiAnPj0gNC4wLjAgPDQuMy4wJyxcbiAgODogJz49IDQuMy4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBleHRlbmQodGhpcy5wYXJ0aWFscywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICBgQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJHtuYW1lfVwiIGFzIHVuZGVmaW5lZGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH0sXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbWVtb3J5IG9mIGlsbGVnYWwgcHJvcGVydHkgYWNjZXNzZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2dnZWQuXG4gICAqIEBkZXByZWNhdGVkIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gaGFuZGxlYmFycyB0ZXN0LWNhc2VzXG4gICAqL1xuICByZXNldExvZ2dlZFByb3BlcnR5QWNjZXNzZXMoKSB7XG4gICAgcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHsgY3JlYXRlRnJhbWUsIGxvZ2dlciB9O1xuIl19\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n  var wrapper = function wrapper() /* dynamic arguments */{\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n  return wrapper;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUU7QUFDckQsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7OztBQUdoQyxXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsTUFBSSxPQUFPLEdBQUcsU0FBVixPQUFPLDBCQUFxQztBQUM5QyxRQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxhQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5RCxXQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ3RDLENBQUM7QUFDRixTQUFPLE9BQU8sQ0FBQztDQUNoQiIsImZpbGUiOiJ3cmFwSGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nvar _helpers = require('./helpers');\n\nvar _internalWrapHelper = require('./internal/wrapHelper');\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n      return obj[name];\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n      if (result == null) {\n        return result;\n      }\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({ lookupProperty: lookupProperty }, options);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBTTVCLFFBQVE7O3VCQUNtQixXQUFXOztrQ0FDbEIsdUJBQXVCOzttQ0FJM0MseUJBQXlCOztBQUV6QixTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxBQUFDLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUssQ0FBQztNQUM3RCxlQUFlLDBCQUFvQixDQUFDOztBQUV0QyxNQUNFLGdCQUFnQiwyQ0FBcUMsSUFDckQsZ0JBQWdCLDJCQUFxQixFQUNyQztBQUNBLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ3ZELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hELFVBQU0sMkJBQ0oseUZBQXlGLEdBQ3ZGLHFEQUFxRCxHQUNyRCxlQUFlLEdBQ2YsbURBQW1ELEdBQ25ELGdCQUFnQixHQUNoQixJQUFJLENBQ1AsQ0FBQztHQUNILE1BQU07O0FBRUwsVUFBTSwyQkFDSix3RkFBd0YsR0FDdEYsaURBQWlELEdBQ2pELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FDZixJQUFJLENBQ1AsQ0FBQztHQUNIO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztH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LE1BQU0sQ0FBQyxFQUFFLGNBQWMsRUFBZCxjQUFjLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNsRCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJydW50aW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7XG4gIENPTVBJTEVSX1JFVklTSU9OLFxuICBjcmVhdGVGcmFtZSxcbiAgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLFxuICBSRVZJU0lPTl9DSEFOR0VTXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBtb3ZlSGVscGVyVG9Ib29rcyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyB3cmFwSGVscGVyIH0gZnJvbSAnLi9pbnRlcm5hbC93cmFwSGVscGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbCxcbiAgcmVzdWx0SXNBbGxvd2VkXG59IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSAoY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSkgfHwgMSxcbiAgICBjdXJyZW50UmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoXG4gICAgY29tcGlsZXJSZXZpc2lvbiA+PSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gJiZcbiAgICBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21waWxlclJldmlzaW9uIDwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBydW50aW1lVmVyc2lvbnMgK1xuICAgICAgICAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlclZlcnNpb25zICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICtcbiAgICAgICAgY29tcGlsZXJJbmZvWzFdICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZW52aXJvbm1lbnQgcGFzc2VkIHRvIHRlbXBsYXRlJyk7XG4gIH1cbiAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIGNvbnN0IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9XG4gICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBleHRlbmRlZE9wdGlvbnMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuICAgICAgcHJvdG9BY2Nlc3NDb250cm9sOiB0aGlzLnByb3RvQWNjZXNzQ29udHJvbFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgcGFydGlhbCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBleHRlbmRlZE9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucyxcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgJ1RoZSBwYXJ0aWFsICcgK1xuICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwge1xuICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtuYW1lXTtcbiAgICB9LFxuICAgIGxvb2t1cFByb3BlcnR5OiBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgbGV0IHJlc3VsdCA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGxvb2t1cDogZnVuY3Rpb24oZGVwdGhzLCBuYW1lKSB7XG4gICAgICBjb25zdCBsZW4gPSBkZXB0aHMubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZGVwdGhzW2ldICYmIGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eShkZXB0aHNbaV0sIG5hbWUpO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgIGZuID0gdGhpcy5mbihpKTtcbiAgICAgIGlmIChkYXRhIHx8IGRlcHRocyB8fCBibG9ja1BhcmFtcyB8fCBkZWNsYXJlZEJsb2NrUGFyYW1zKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gd3JhcFByb2dyYW0oXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGZuLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZGVjbGFyZWRCbG9ja1BhcmFtcyxcbiAgICAgICAgICBibG9ja1BhcmFtcyxcbiAgICAgICAgICBkZXB0aHNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBtZXJnZUlmTmVlZGVkOiBmdW5jdGlvbihwYXJhbSwgY29tbW9uKSB7XG4gICAgICBsZXQgb2JqID0gcGFyYW0gfHwgY29tbW9uO1xuXG4gICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIHBhcmFtICE9PSBjb21tb24pIHtcbiAgICAgICAgb2JqID0gVXRpbHMuZXh0ZW5kKHt9LCBjb21tb24sIHBhcmFtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIC8vIEFuIGVtcHR5IG9iamVjdCB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIG51bGwtY29udGV4dHNcbiAgICBudWxsQ29udGV4dDogT2JqZWN0LnNlYWwoe30pLFxuXG4gICAgbm9vcDogZW52LlZNLm5vb3AsXG4gICAgY29tcGlsZXJJbmZvOiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJcbiAgfTtcblxuICBmdW5jdGlvbiByZXQoY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG5cbiAgICByZXQuX3NldHVwKG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG4gICAgICBkYXRhID0gaW5pdERhdGEoY29udGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGxldCBkZXB0aHMsXG4gICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID1cbiAgICAgICAgICBjb250ZXh0ICE9IG9wdGlvbnMuZGVwdGhzWzBdXG4gICAgICAgICAgICA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpXG4gICAgICAgICAgICA6IG9wdGlvbnMuZGVwdGhzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnJyArXG4gICAgICAgIHRlbXBsYXRlU3BlYy5tYWluKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLFxuICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgICAgIGRlcHRoc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIG1haW4gPSBleGVjdXRlRGVjb3JhdG9ycyhcbiAgICAgIHRlbXBsYXRlU3BlYy5tYWluLFxuICAgICAgbWFpbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG9wdGlvbnMuZGVwdGhzIHx8IFtdLFxuICAgICAgZGF0YSxcbiAgICAgIGJsb2NrUGFyYW1zXG4gICAgKTtcbiAgICByZXR1cm4gbWFpbihjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldC5pc1RvcCA9IHRydWU7XG5cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgbGV0IG1lcmdlZEhlbHBlcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5oZWxwZXJzLCBvcHRpb25zLmhlbHBlcnMpO1xuICAgICAgd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpO1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBtZXJnZWRIZWxwZXJzO1xuXG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwpIHtcbiAgICAgICAgLy8gVXNlIG1lcmdlSWZOZWVkZWQgaGVyZSB0byBwcmV2ZW50IGNvbXBpbGluZyBnbG9iYWwgcGFydGlhbHMgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gY29udGFpbmVyLm1lcmdlSWZOZWVkZWQoXG4gICAgICAgICAgb3B0aW9ucy5wYXJ0aWFscyxcbiAgICAgICAgICBlbnYucGFydGlhbHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IFV0aWxzLmV4dGVuZChcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBlbnYuZGVjb3JhdG9ycyxcbiAgICAgICAgICBvcHRpb25zLmRlY29yYXRvcnNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLmhvb2tzID0ge307XG4gICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKG9wdGlvbnMpO1xuXG4gICAgICBsZXQga2VlcEhlbHBlckluSGVscGVycyA9XG4gICAgICAgIG9wdGlvbnMuYWxsb3dDYWxsc1RvSGVscGVyTWlzc2luZyB8fFxuICAgICAgICB0ZW1wbGF0ZVdhc1ByZWNvbXBpbGVkV2l0aENvbXBpbGVyVjc7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdoZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdibG9ja0hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCA9IG9wdGlvbnMucHJvdG9BY2Nlc3NDb250cm9sOyAvLyBpbnRlcm5hbCBvcHRpb25cbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gb3B0aW9ucy5oZWxwZXJzO1xuICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3B0aW9ucy5wYXJ0aWFscztcbiAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gb3B0aW9ucy5kZWNvcmF0b3JzO1xuICAgICAgY29udGFpbmVyLmhvb2tzID0gb3B0aW9ucy5ob29rcztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGksXG4gICAgICB0ZW1wbGF0ZVNwZWNbaV0sXG4gICAgICBkYXRhLFxuICAgICAgMCxcbiAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgZGVwdGhzXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBQcm9ncmFtKFxuICBjb250YWluZXIsXG4gIGksXG4gIGZuLFxuICBkYXRhLFxuICBkZWNsYXJlZEJsb2NrUGFyYW1zLFxuICBibG9ja1BhcmFtcyxcbiAgZGVwdGhzXG4pIHtcbiAgZnVuY3Rpb24gcHJvZyhjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY3VycmVudERlcHRocyA9IGRlcHRocztcbiAgICBpZiAoXG4gICAgICBkZXB0aHMgJiZcbiAgICAgIGNvbnRleHQgIT0gZGVwdGhzWzBdICYmXG4gICAgICAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpXG4gICAgKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250YWluZXIuaGVscGVycyxcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksXG4gICAgICBjdXJyZW50RGVwdGhzXG4gICAgKTtcbiAgfVxuXG4gIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuICBwcm9nLnByb2dyYW0gPSBpO1xuICBwcm9nLmRlcHRoID0gZGVwdGhzID8gZGVwdGhzLmxlbmd0aCA6IDA7XG4gIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG4gIHJldHVybiBwcm9nO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgY3VycmVudGx5IHBhcnQgb2YgdGhlIG9mZmljaWFsIEFQSSwgdGhlcmVmb3JlIGltcGxlbWVudGF0aW9uIGRldGFpbHMgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICBpZiAoIXBhcnRpYWwpIHtcbiAgICBpZiAob3B0aW9ucy5uYW1lID09PSAnQHBhcnRpYWwtYmxvY2snKSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCFwYXJ0aWFsLmNhbGwgJiYgIW9wdGlvbnMubmFtZSkge1xuICAgIC8vIFRoaXMgaXMgYSBkeW5hbWljIHBhcnRpYWwgdGhhdCByZXR1cm5lZCBhIHN0cmluZ1xuICAgIG9wdGlvbnMubmFtZSA9IHBhcnRpYWw7XG4gICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbcGFydGlhbF07XG4gIH1cbiAgcmV0dXJuIHBhcnRpYWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgLy8gVXNlIHRoZSBjdXJyZW50IGNsb3N1cmUgY29udGV4dCB0byBzYXZlIHRoZSBwYXJ0aWFsLWJsb2NrIGlmIHRoaXMgcGFydGlhbFxuICBjb25zdCBjdXJyZW50UGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICBvcHRpb25zLnBhcnRpYWwgPSB0cnVlO1xuICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICBvcHRpb25zLmRhdGEuY29udGV4dFBhdGggPSBvcHRpb25zLmlkc1swXSB8fCBvcHRpb25zLmRhdGEuY29udGV4dFBhdGg7XG4gIH1cblxuICBsZXQgcGFydGlhbEJsb2NrO1xuICBpZiAob3B0aW9ucy5mbiAmJiBvcHRpb25zLmZuICE9PSBub29wKSB7XG4gICAgb3B0aW9ucy5kYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAvLyBXcmFwcGVyIGZ1bmN0aW9uIHRvIGdldCBhY2Nlc3MgdG8gY3VycmVudFBhcnRpYWxCbG9jayBmcm9tIHRoZSBjbG9zdXJlXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcbiAgICBwYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGZ1bmN0aW9uIHBhcnRpYWxCbG9ja1dyYXBwZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgKSB7XG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7XG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihcbiAgICAgIHByb2csXG4gICAgICBwcm9wcyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGRlcHRocyAmJiBkZXB0aHNbMF0sXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICBkZXB0aHNcbiAgICApO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG5cbmZ1bmN0aW9uIHdyYXBIZWxwZXJzVG9QYXNzTG9va3VwUHJvcGVydHkobWVyZ2VkSGVscGVycywgY29udGFpbmVyKSB7XG4gIE9iamVjdC5rZXlzKG1lcmdlZEhlbHBlcnMpLmZvckVhY2goaGVscGVyTmFtZSA9PiB7XG4gICAgbGV0IGhlbHBlciA9IG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXSA9IHBhc3NMb29rdXBQcm9wZXJ0eU9wdGlvbihoZWxwZXIsIGNvbnRhaW5lcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpIHtcbiAgY29uc3QgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHk7XG4gIHJldHVybiB3cmFwSGVscGVyKGhlbHBlciwgb3B0aW9ucyA9PiB7XG4gICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh7IGxvb2t1cFByb3BlcnR5IH0sIG9wdGlvbnMpO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxVQUFVLEVBQUU7O0FBRWxDLE1BQUksSUFBSSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsTUFBTTtNQUN4RCxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7QUFFaEMsWUFBVSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQ2pDLFFBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7QUFDbEMsVUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7S0FDL0I7QUFDRCxXQUFPLFVBQVUsQ0FBQztHQUNuQixDQUFDO0NBQ0giLCJmaWxlIjoibm8tY29uZmxpY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihIYW5kbGViYXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGxldCByb290ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3csXG4gICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","<div class=\"error-container\">{{message}}</div>","<div class=\"app-container\">\r\n    <div class=\"app-bar\">Better Points <button id=\"close-app-button\">Close</button></div>\r\n    <div class=\"app-content\">\r\n        <div class=\"errors\"></div>\r\n        <div class=\"settings-form-container section-container\">\r\n            <h4>Settings</h4>\r\n            <div class=\"settings\"></div>\r\n            <div class=\"button-group\">\r\n                <button type=\"button\" id=\"settings-form-submit-button\" class=\"app-buttons\">Save</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"create-form-container section-container\">\r\n            <h4>New Redemption Event</h4>\r\n            <div class=\"main-options\"></div>\r\n            <div class=\"command-options\">\r\n                <h5>Commands</h5>\r\n                <div class='command-group'></div>\r\n                <button type=\"button\" id=\"create-form-create-command\" class=\"app-buttons command-form-buttons\">New</button>\r\n            </div>\r\n            <div class=\"button-group\">\r\n                <button type=\"button\" id=\"create-form-submit-button\" class=\"app-buttons\">Save Redemption Event</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"edit-form-container section-container\">\r\n            <h4>Edit Redemption Event</h4>\r\n            <div class=\"main-options\"></div>\r\n            <div class=\"command-options\">\r\n                <h5>Commands</h5>\r\n                <div class='command-group'></div>\r\n                <button type=\"button\" id=\"edit-form-create-command\" class=\"app-buttons command-form-buttons\">New</button>\r\n            </div>\r\n            <div class=\"button-group\">\r\n                <button type=\"button\" id=\"edit-form-submit-button\" class=\"app-buttons\">Save Changes</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"redemptions-container section-container\">\r\n            <h4>Redemptions</h4>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>","<div class=\"app-button-container\">\r\n    <button class=\"app-button\">BP</button>\r\n</div>","<div class=\"redemption-container\">\r\n    <button type=\"button\" id=\"redemption-edit-button\">Edit Redemption Event</button>\r\n    <button type=\"button\" id=\"redemption-delete-button\">Delete Redemption Event</button>\r\n    <div><h4>{{redemptionName}}</h4></div>\r\n    <div>cooldown: {{redemption.cooldownInSeconds}}</div>\r\n    <div>hold: {{redemption.hold}}</div>\r\n    <div>start scene: {{redemption.startScene}}</div>\r\n    <div>\r\n        <div>commands: </div>\r\n        {{#each redemption.commands}}\r\n        <div>\r\n            - {{this.prettyName}}:\r\n            {{#each this.config}}\r\n                {{this}}\r\n            {{/each}}\r\n        </div>\r\n        {{/each}}\r\n    </div>\r\n</div>","<form class=\"form\">\r\n    <div class=\"form-group\">\r\n        <label for=\"address\">URL</label>\r\n        <input class=\"flex-grow\" type=\"text\" name=\"address\" id=\"\" value=\"{{address}}\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input class=\"flex-grow\" type=\"text\" name=\"password\" id=\"\" value=\"{{password}}\">\r\n    </div>\r\n</form>","<form class=\"form\">\r\n    <div class=\"form-group\">\r\n        <label for=\"redemptionName\">Redemption Name</label>\r\n        <input class=\"flex-grow\" type=\"text\" name=\"redemptionName\" id=\"\" value=\"{{redemptionName}}\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"startScene\">Start Scene</label>\r\n        <input class=\"flex-grow\" type=\"text\" name=\"startScene\" id=\"\" value=\"{{startScene}}\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"cooldownInSeconds\">Cooldown (s)</label>\r\n        <input class=\"flex-grow\" type=\"number\" name=\"cooldownInSeconds\" id=\"\" value=\"{{cooldownInSeconds}}\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"hold\">Hold</label>\r\n        <input type=\"checkbox\" name=\"hold\" id=\"\" value=\"true\" {{#if hold}}checked {{/if}}>\r\n    </div>\r\n</form>","<form class=\"command-form\">\r\n    <div class=\"form-group\">\r\n        <label for=\"function\">Action Command</label>\r\n        <select class=\"flex-grow\" name=\"function\" id=\"function-select\">\r\n            <option value=\"\" disabled selected hidden>Select an action</option>\r\n            <option value=\"SetCurrentScene\">Change to Scene</option>\r\n            <option value=\"Wait\">Pause (ms)</option>\r\n            <option value=\"SetSourceVisibility\">Set Source Visibility</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div class=\"form-group action-value-group\">\r\n        {{!-- template will be injected here by jQuery depending on selection above --}}\r\n    </div>\r\n</form>","<label for=\"actionValue\">{{name}}</label>\r\n<input class=\"flex-grow\" type=\"{{type}}\" name=\"{{property}}\" id=\"\" value=\"{{value}}\">","import { log } from './helpers'\nimport { Command, COMMAND_PRESETS } from './classes/Command'\nimport {\n    saveRedemptionEvent,\n    getRedemption,\n    saveSettings,\n} from './event-handler'\n// templates\nimport ErrorContainer from './views/errors.hbs'\nimport AppContainer from './views/app.hbs'\nimport AppButton from './views/app-button.hbs'\nimport RedemptionEvent from './views/redemption.hbs'\nimport SettingsForm from './views/settings-form.hbs'\nimport CreateForm from './views/create-form.hbs'\nimport CommandForm from './views/command-form.hbs'\nimport CommandFormValue from './views/command-form-value.hbs'\n\nlog('Channel Points DOM Manipulator Loaded.')\n\n// initialize the DOM with our UI components\nexport function setupDOM() {\n    console.log('setting up the DOM')\n    $('.app-container').remove()\n    $('.reward-queue-body').prepend(AppContainer())\n    $('*[data-test-selector=\"reward-queue-custom-reward-button\"').prepend(\n        AppButton()\n    )\n    $('.create-form-container .main-options').prepend(CreateForm())\n    $('.settings-form-container .settings').prepend(SettingsForm())\n    $('.create-form-container .command-group').append(createNewCommandForm())\n\n    bindClicks()\n}\n\nfunction bindClicks() {\n    $('.app-button').click(showCreateView)\n    $('#close-app-button').click(toggleApp)\n    $('#create-form-submit-button').click(createNewRedemptionEvent)\n    $('#settings-form-submit-button').click(parseSettingsFormAndSave)\n    $('#create-form-create-command').click(() => {\n        $('.create-form-container .command-group').append(\n            createNewCommandForm()\n        )\n    })\n    $('#edit-form-create-command').click(() => {\n        $('.edit-form-container .command-group').append(createNewCommandForm())\n    })\n    $('#edit-form-submit-button').click(() => {\n        editRedemptionEvent()\n    })\n}\n\nasync function showCreateView(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    toggleApp()\n    hideOtherForms()\n    // get the surrounding button parent and find the event name\n    const $parentButton = $(event.target).parents('button').first()\n    const redemptionName = $parentButton.find('.reward-queue-sidebar__reward-title').text()\n    const redemption = await getRedemption(redemptionName) ?? null\n    if(redemption) {\n        loadEditView(redemptionName)\n        return false\n    }else {\n        // show the create view with the redemption name already filled out\n        const $createForm = $('.create-form-container')\n        $createForm\n            .find('.main-options')\n            .empty()\n            .html(CreateForm({redemptionName}))\n\n        $createForm.show()\n        \n        return false\n    }\n}\n\nfunction toggleApp() {\n    $('.app-container').toggle()\n}\n\nfunction hideOtherForms() {\n    $('.create-form-container').hide()\n    $('.edit-form-container').hide()\n}\n\nfunction parseSettingsFormAndSave() {\n    const settings = {}\n    // grab the values out of the form\n    const $formContainer = $('.settings-form-container')\n    const optionsSerialData = $formContainer.find('.form').serializeArray()\n    optionsSerialData.forEach(element => {\n        settings[element.name] = element.value\n    })\n    saveSettings(settings)\n}\n\nasync function createNewRedemptionEvent() {\n    const $form = $('.create-form-container')\n    const redemptionEvent = parseJqueryFormToObject($form)\n\n    // send off the redemptionEvent for storage\n    try {\n        await saveRedemptionEvent(redemptionEvent)\n    } catch (e) {\n        // saving failed, do we need to confirm?\n        if (confirm(e.message)) {\n            await saveRedemptionEvent(redemptionEvent, true)\n        }\n    }\n}\n\nasync function editRedemptionEvent() {\n    const $formContainer = $('.edit-form-container')\n    const redemptionEvent = parseJqueryFormToObject($formContainer)\n\n    // send off the redemptionEvent for storage\n    await saveRedemptionEvent(redemptionEvent, true)\n}\n\nfunction parseJqueryFormToObject($formContainer) {\n    const redemptionEvent = {}\n    // grab the values out of the form\n    const optionsSerialData = $formContainer.find('.form').serializeArray()\n    optionsSerialData.forEach(element => {\n        redemptionEvent[element.name] = element.value\n    })\n\n    // grab all of the commands and boil them down into Command objects\n    const commandsSerialData = []\n    $formContainer.find('.command-form').each(function() {\n        commandsSerialData.push($(this).serializeArray())\n    })\n    redemptionEvent.commands = []\n    commandsSerialData.forEach(element => {\n        const functionName = element.shift().value\n        const config = element.map(el => {\n            return {\n                value: el.value ?? false,\n                name: el.name,\n            }\n        })\n        const commandData = {\n            functionName,\n            config,\n        }\n        let command = new Command(commandData)\n        redemptionEvent.commands.push(command)\n    })\n    return redemptionEvent\n}\n\nfunction createNewCommandForm(defaults) {\n    const presets = COMMAND_PRESETS\n    const $commandForm = $(CommandForm())\n    const $functionSelect = $commandForm.find('#function-select')\n    $functionSelect.change(function() {\n        const functionName = $(this).val()\n        const preset = COMMAND_PRESETS[functionName]\n        const actions = preset.actions\n        $commandForm.find('.action-value-group').empty()\n        actions.forEach(action => {\n            const template = CommandFormValue({\n                name: action.name,\n                type: action.type,\n                value: action.value,\n                property: action.property,\n            })\n            $commandForm.find('.action-value-group').append(template)\n        })\n    })\n    return $commandForm\n}\n\nexport function displayRedemptions(redemptions) {\n    console.log('displaying redemptions')\n    const redemptionTemplates = []\n    for (const redemptionName in redemptions) {\n        if (redemptions.hasOwnProperty(redemptionName)) {\n            const redemption = redemptions[redemptionName]\n            const redemptionTemplate = RedemptionEvent({\n                redemptionName,\n                redemption,\n            })\n            let $redemption = $(redemptionTemplate)\n            bindRedemptionButtons(redemptionName, $redemption)\n            redemptionTemplates.push($redemption)\n        }\n    }\n    $('.redemptions-container')\n        .empty()\n        .append(redemptionTemplates)\n}\n\nexport function displaySettings(settings) {\n    const $settingsForm = $('.settings-form-container .form')\n    for (const key in settings) {\n        $settingsForm.find(`input[name=${key}]`).val(settings[key])\n    }\n}\n\nfunction bindRedemptionButtons(redemptionName, $redemption) {\n    $redemption.find('#redemption-edit-button').click(function() {\n        loadEditView(redemptionName)\n    })\n\n    $redemption.find('#redemption-delete-button').click(function() {\n        deleteRedemption(redemptionName)\n    })\n}\n\nasync function loadEditView(redemptionName) {\n    hideOtherForms()\n    const redemption = await getRedemption(redemptionName)\n    const $editForm = $('.edit-form-container')\n    $editForm\n        .find('.main-options')\n        .empty()\n        .html(CreateForm(redemption))\n\n        $editForm.show()\n\n    $editForm.find('.command-options .command-group').empty()\n    redemption.commands.forEach(command => {\n        const $commandForm = createNewCommandForm()\n        $editForm.find('.command-options .command-group').append($commandForm)\n        $commandForm\n            .find('#function-select')\n            .val(command.functionName)\n            .change(function() {\n                for (const key in command.config) {\n                    const $input = $commandForm.find(`input[name=${key}]`)\n                    $input.val(command.config[key])\n                    if ($input.attr('type') === 'checkbox') {\n                        $input.prop('checked', command.config[key])\n                    }\n                }\n            })\n            .change()\n    })\n}\n\nfunction deleteRedemption(redemptionName) {\n    alert('really?')\n}\n\nexport function displayError(error) {\n    const errorContainer = ErrorContainer({ message: error.message })\n    // check if we have a container on the DOM\n    $('.error-container').remove()\n    $('.errors').prepend(errorContainer)\n    $('.errors').show(100)\n\n    setTimeout(() => {\n        $('.errors').hide(100)\n    }, 5000)\n}\n","import { log } from './helpers'\nimport { setupDOM } from './dom-manipulator'\nimport { executeRedemption } from './event-handler'\n\n// Application\nconst ctPointsContainerObserver = new MutationObserver(findRewardContainer)\nconst ctPointsRewardObserver = new MutationObserver(filterDOMInsertionEvents)\nconst handledRewards = new Map()\nconst pendingRewards = new Map()\nlet resolver = {}\nconst DOMReady = new Promise(resolve => {\n    resolver = resolve\n})\n\nexport function listen() {\n    log('Channel Points DOM Listener Loaded.')\n    // get the reward container\n    ctPointsContainerObserver.observe(document.body, {\n        childList: true,\n        subtree: true,\n        attributes: false,\n        characterData: false,\n    })\n    return DOMReady\n}\n\n// find reward container from mutation events\nfunction findRewardContainer(mutations) {\n    mutations.forEach(function(mutation) {\n        if (!mutation.addedNodes) return\n        mutation.addedNodes.forEach(function(node) {\n            if (node.className.includes('simplebar-scroll-content')) {\n                const queue = $(node).find('.reward-queue-body')[0]\n                if (!queue) return // No reward queue here\n                log('Rewards container found! Listening for reward events...')\n                ctPointsContainerObserver.disconnect()\n                ctPointsRewardObserver.observe(queue, {\n                    childList: true,\n                    subtree: true,\n                    attributes: false,\n                    chatacterData: false,\n                })\n                // resolves the deferred promise\n                resolver()\n            }\n        })\n    })\n}\n\n// find DOM events we're interested in\nfunction filterDOMInsertionEvents(mutations) {\n    mutations.forEach(function(mutation) {\n        if (!mutation.addedNodes) return\n        mutation.addedNodes.forEach(function(node) {\n            const $redemptionContainer = $(node).find(\n                '.redemption-card__card-body'\n            )\n            // check if we found a redemption card\n            if ($redemptionContainer.length > 0) {\n                // we have a redemtpion so now handle it\n                handleRedemption($redemptionContainer)\n            }\n        })\n    })\n}\n\n// used handle the redemption event, accepts jquery object\nasync function handleRedemption($redemptionContainer) {\n    const redemptionData = await extractAllData($redemptionContainer)\n    if (handledRewards.has(redemptionData.reportId)) {\n        log('Reward', redemptionData.reportId, 'already handled, skipping')\n        return\n    } else {\n        log('Handling redemption', redemptionData)\n        handledRewards.set(redemptionData.reportId)\n        pendingRewards.set(redemptionData.reportId, redemptionData)\n        const result = await executeRedemption(redemptionData)\n        console.log(result)\n    }\n}\n\n// pull everything off the DOM and return an object\nasync function extractAllData($redemptionContainer) {\n    let userName = extractUsername($redemptionContainer)\n    if (!userName) userName = await extractUsernameAsync($redemptionContainer)\n    const rewardName = extractRewardName($redemptionContainer)\n    const response = extractResponse($redemptionContainer)\n    const reportId = extractId($redemptionContainer)\n    const actions = extractActionButtons($redemptionContainer)\n\n    return {\n        userName,\n        rewardName,\n        response,\n        reportId,\n        actions,\n    }\n}\n\nfunction extractUsername($redemptionContainer) {\n    // start with the text \"USER\" and find its div sibling with an h4 descendant\n    const $rewardUserSibling = $redemptionContainer.find('h5:contains(USER)')\n    const userName = $rewardUserSibling\n        .siblings('div')\n        .find('h4')\n        .html()\n    return userName\n}\n\nfunction extractUsernameAsync($redemptionContainer) {\n    let promiseResolve, promiseReject\n    const promise = new Promise(function(resolve, reject) {\n        promiseResolve = resolve\n        promiseReject = reject\n    })\n    const userObserver = new MutationObserver(function(mutations) {\n        mutations.forEach(function(mutation) {\n            if (!mutation.addedNodes) return\n            mutation.addedNodes.forEach(function(node) {\n                if (node.nodeName === 'H4') {\n                    // We got a username\n                    userObserver.disconnect()\n                    promiseResolve(node.textContent) // return username\n                }\n            })\n        })\n    })\n    // start with the text \"USER\" and find its div sibling\n    const $rewardUserSibling = $redemptionContainer.find('h5:contains(USER)')\n    const userDiv = $rewardUserSibling.siblings('div')[0]\n    // Observe the div until we find an h4 element containing the username\n    userObserver.observe(userDiv, {\n        childList: true,\n        subtree: false,\n        attributes: false,\n        chatacterData: false,\n    })\n    setTimeout(() => {\n        promiseReject('Could not get username')\n    }, 3000)\n    return promise\n}\n\nfunction extractRewardName($redemptionContainer) {\n    // start with the text \"REWARD\" and find its h4 sibling\n    const $rewardTitleSibling = $redemptionContainer.find('h5:contains(REWARD)')\n    const rewardName = $rewardTitleSibling.siblings('h4').html()\n    return rewardName\n}\n\nfunction extractResponse($redemptionContainer) {\n    // start with the text \"RESPONSE\" and find its h4 sibling\n    const $responseTitleSibling = $redemptionContainer.find(\n        'h5:contains(RESPONSE)'\n    )\n    const response = $responseTitleSibling.siblings('h4').html()\n    return response\n}\n\nfunction extractId($redemptionContainer) {\n    // drill down through report-button element for the id stored on the tooltip div\n    const id = $redemptionContainer\n        .find('.redemption-card__report-button')\n        .find('.mod-buttons')\n        .siblings('.tw-tooltip')\n        .attr('id')\n    return id\n}\n\nfunction extractActionButtons($redemptionContainer) {\n    // look for button elements in the container (should only be two)\n    const $buttons = $redemptionContainer.find('button')\n\n    // return the DOM elements themselves not jquery\n    return {\n        resolve: $buttons[0],\n        reject: $buttons[1],\n    }\n}\n","import { listen } from './dom-listener'\nimport { setupDOM, displayError } from './dom-manipulator'\nimport { connect } from './event-handler'\nimport { log } from './helpers'\n\n$().ready(async () => {\n    // start listening on the DOM\n    await listen()\n    console.log('Twitch DOM fully loaded')\n    setupDOM()\n\n    // load settings and connect to OBS\n    try {\n        await connect()\n        log('Connected to OBS!')\n    } catch (obsError) {\n        const error = new Error(\n            `There was a problem connecting to OBS: ${obsError.code} ${obsError.description}`\n        )\n        displayError(error)\n    }\n})\n"],"names":["prefix","log","args","Array","prototype","slice","call","arguments","unshift","console","apply","COMMAND_PRESETS","SetCurrentScene","functionName","prettyName","actions","name","property","propertySafe","type","Wait","SetSourceVisibility","value","Command","constructor","attributes","preset","config","forEach","configElement","cooldowns","settings","redemptionEvents","storage","window","localStorage","REDEMPTIONS_KEY","SETTINGS_KEY","DEFAULT_SETTINGS","address","password","demoEvent","redemptionName","startScene","cooldownInSeconds","hold","commands","timeInMs","obs","client","send","delay","visible","visibility","connect","loadSettings","loadRedemptionEvents","displayRedemptions","connectToOBS","storedSettings","JSON","parse","getItem","displaySettings","Promise","resolve","saveSettings","newSettings","disconnectFromOBS","setItem","stringify","obsError","error","Error","code","description","displayError","saveRedemptionEvent","redemption","override","reject","storedItems","getRedemption","OBSWebSocket","disconnect","executeRedemption","redemptionData","indexOf","rewardName","rejectRedemption","addToCooldown","executeCommandChain","acceptRedemption","e","message","removeFromCooldown","initialScene","index","len","length","command","reward","cooldown","push","setTimeout","splice","t","v","bind","then","_utils","_exception","global","_helpersBlockHelperMissing","_helpersEach","_helpersHelperMissing","_helpersIf","_helpersLog","_helpersLookup","_helpersWith","_decoratorsInline","_logger","_createNewLookupObject","helpers","decorators","_helpers","_decorators","_internalProtoAccess","_base","_internalWrapHelper","base","_handlebarsBase","_handlebarsSafeString","_handlebarsException","_handlebarsUtils","runtime","_handlebarsRuntime","_handlebarsNoConflict","setupDOM","$","remove","prepend","AppContainer","AppButton","CreateForm","SettingsForm","append","createNewCommandForm","bindClicks","click","showCreateView","toggleApp","createNewRedemptionEvent","parseSettingsFormAndSave","editRedemptionEvent","event","preventDefault","stopPropagation","hideOtherForms","$parentButton","target","parents","first","find","text","loadEditView","$createForm","empty","html","show","toggle","hide","$formContainer","optionsSerialData","serializeArray","element","$form","redemptionEvent","parseJqueryFormToObject","confirm","commandsSerialData","each","shift","map","el","commandData","defaults","$commandForm","CommandForm","$functionSelect","change","val","action","template","CommandFormValue","redemptions","redemptionTemplates","hasOwnProperty","redemptionTemplate","RedemptionEvent","$redemption","bindRedemptionButtons","$settingsForm","key","deleteRedemption","$editForm","$input","attr","prop","alert","errorContainer","ErrorContainer","ctPointsContainerObserver","MutationObserver","findRewardContainer","ctPointsRewardObserver","filterDOMInsertionEvents","handledRewards","Map","pendingRewards","resolver","DOMReady","listen","observe","document","body","childList","subtree","characterData","mutations","mutation","addedNodes","node","className","includes","queue","chatacterData","$redemptionContainer","handleRedemption","extractAllData","has","reportId","set","result","userName","extractUsername","extractUsernameAsync","extractRewardName","response","extractResponse","extractId","extractActionButtons","$rewardUserSibling","siblings","promiseResolve","promiseReject","promise","userObserver","nodeName","textContent","userDiv","$rewardTitleSibling","$responseTitleSibling","id","$buttons","ready"],"mappings":"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"}